{"version":3,"sources":["angular-permission.js"],"names":["window","angular","undefined","$permission","defaultOnAuthorizedMethod","defaultOnUnauthorizedMethod","suppressUndefinedPermissionWarning","this","setDefaultOnAuthorizedMethod","onAuthorizedMethod","setDefaultOnUnauthorizedMethod","onUnauthorizedMethod","value","$get","$q","$delegate","any","promises","deferred","defer","counter","results","isArray","forEach","promise","key","when","then","resolve","reason","reject","PermTransitionEvents","broadcastPermissionStartEvent","Error","broadcastPermissionAcceptedEvent","broadcastPermissionDeniedEvent","PermPermission","$injector","PermTransitionProperties","Permission","permissionName","validationFunction","validateConstructor","annotateValidationFunction","wrapInPromise","result","isString","TypeError","isFunction","$inject","prototype","validatePermission","validationLocals","transitionProperties","validationResult","invoke","PermRole","PermPermissionStore","Role","roleName","length","preparePermissionEvaluation","permissions","map","hasPermissionDefinition","permission","getPermissionDefinition","all","validateRole","definePermission","permissionStore","defineManyPermissions","permissionNames","removePermissionDefinition","isDefined","getStore","clearStore","PermRoleStore","defineRole","roleStore","defineManyRoles","roleMap","isObject","removeRoleDefinition","hasRoleDefinition","getRoleDefinition","PermissionDirective","$log","PermPermissionMap","PermPermissionStrategies","restrict","bindToController","sref","only","except","event","onAuthorized","onUnauthorized","controllerAs","controller","$scope","$element","checkPermission","stopEvent","$on","isSrefStateDefined","PermStateAuthorization","get","authorizeByStateName","onAuthorizedAccess","onUnauthorizedAccess","PermAuthorization","permissionMap","authorizeByPermissionMap","e","error","message","has","onAuthorizedMethodName","onUnauthorizedMethodName","$watchGroup","resolveExceptPrivilegeMap","exceptPromises","resolvePropertyValidity","rejectedPermissions","resolveOnlyPermissionMap","onlyPromises","resolvedPermissions","rejectedPermission","PermissionMap","normalizeOnlyAndExceptProperty","redirectTo","normalizeRedirectToProperty","resolveRedirectState","redirectFunction","rejectedPermissionName","redirectState","state","property","call","isInjectable","normalizeFunctionRedirectionRule","isObjectSingleRedirectionRule","normalizeObjectSingleRedirectionRule","normalizeObjectMultipleRedirectionRule","normalizeStringRedirectionRule","ReferenceError","redirectionMap","redirection","privilegeName","role","warn","module","exports","name","provider","decorator","enableElement","removeAttr","disableElement","attr","showElement","removeClass","hideElement","addClass","service","factory","directive"],"mappings":"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","file":"angular-permission.min.js"}